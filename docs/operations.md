# Operations

## DynamoDB Tables

As the solution processes your [set file](docs/set-file.md), information is stored
in two DynamoDB Tables.

### The Sets Table

Information about each set file submitted is stored in the `polly-batch-sets`
table. The partition key of this table is the `setName`, a globally unique
name that identifies the specific run of the set.

As work items are processed, the number of successes and failures are updated
in this table.

### The Items Table

Information about the specific items being synthesized are stored in the
`polly-batch-items` DynamoDB table. The partition key for this table is a
GUID generated by the item processor when it posts it to Amazon Polly for
processing.

When Amazon Polly has completed synthesizing an item, it will update the
`taskStatus` field with either `success` or `failure`. In the case of a 
failure, the reason for the failure will be in the `messages` column.

## Log Groups

The solution writes log messages to a number of log groups, each with a
prefix of `/aws/lambda/polly-batch-`. The main logs are:

- `/aws/lambda/polly-batch-set-processor`: log messages from when a set
file is uploaded to the S3 bucket.
- `/aws/lambda/polly-batch-item-processor`: log messages from when each item
in the set file is posted to Amazon Polly for synthesizing.
- `/aws/lambda/polly-batch-response-processor`: log messages from when Amazon
Polly completes processing a work item.
